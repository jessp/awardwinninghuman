{"version":3,"sources":["webpack:///./src/templates/book.js","webpack:///./.cache/gatsby-browser-entry.js","webpack:///./.cache/public-page-renderer.js","webpack:///./src/utils/helpers.js","webpack:///./.cache/public-page-renderer-prod.js","webpack:///./src/components/Header.js","webpack:///./src/components/HeaderLink.js","webpack:///./src/components/BgColumn.js","webpack:///./src/components/PhotoColumn.js"],"names":["PostTemplate","props","_this","_Component","call","this","state","scrollPercent","totalRead","data","wordpressPost","content","split","length","remainingRead","Math","round","handleScroll","bind","_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default","updateWindowDimensions","images","shortHand","acf","checkForImages","image_one","image_two","image_three","image_four","image_five","forEach","e","push","img","source_url","componentDidMount","window","addEventListener","componentWillUnmount","removeEventListener","refs","multiColumnWrapper","setState","windowHeight","scrollHeight","event","scrollY","innerHeight","document","documentElement","remaining","render","post","Glamor","createElement","style","width","height","position","ref","className","backgroundImage","location_photo","title","country_name","story_excerpt","author_name","author_bio","gatsby__WEBPACK_IMPORTED_MODULE_6__","to","marginLeft","victory__WEBPACK_IMPORTED_MODULE_13__","animate","x","y","fill","opacity","d","labels","dangerouslySetInnerHTML","__html","marginTop","_components_BgColumn__WEBPACK_IMPORTED_MODULE_14__","numSquares","floor","_components_PhotoColumn__WEBPACK_IMPORTED_MODULE_15__","photos","author_photo","_components_Header__WEBPACK_IMPORTED_MODULE_12__","Component","propTypes","PropTypes","object","isRequired","edges","array","pageQuery","__webpack_require__","r","__webpack_exports__","graphql","StaticQueryContext","StaticQuery","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","gatsby_link__WEBPACK_IMPORTED_MODULE_2__","gatsby_link__WEBPACK_IMPORTED_MODULE_2___default","a","_public_page_renderer__WEBPACK_IMPORTED_MODULE_3__","_public_page_renderer__WEBPACK_IMPORTED_MODULE_3___default","_parse_path__WEBPACK_IMPORTED_MODULE_4__","React","createContext","Consumer","staticQueryData","query","children","Error","string","func","m","module","exports","require","default","capitalizeFirstLetter","charAt","toUpperCase","slice","sectionDescriptions","sandwiches","snacks","mains","desserts","ProdPageRenderer","_ref","location","pageResources","loader","getResourcesForPathnameSync","pathname","InternalPageRenderer","Object","assign","json","shape","Header","_HeaderLink__WEBPACK_IMPORTED_MODULE_2__","pageName","page","text","color","HeaderLink","theStyle","gatsby__WEBPACK_IMPORTED_MODULE_2__","activeClassName","BgColumn","_React$Component","renderBgColumns","_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default","numBg","tops","Array","map","na","id","random","lefts","widths","squares","sqr","node","key","left","right","top","PhotoColumn","renderPhotoColumns","heights","react_rellax__WEBPACK_IMPORTED_MODULE_5___default","speed"],"mappings":"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","file":"component---src-templates-book-js-384b652952c6c03914a4.js","sourcesContent":["import React, { Component } from \"react\"\nimport { graphql, Link } from \"gatsby\"\nimport PropTypes from \"prop-types\"\n\nimport './../layouts/main.css'\nimport '../css/LayoutColumns.css'\nimport '../css/BookLayout.css'\nimport '../css/MediaColumn.css'\n\n\nimport Header from '../components/Header';\nimport { VictoryPie } from 'victory';\nimport BgColumn from '../components/BgColumn'\nimport PhotoColumn from '../components/PhotoColumn'\n\n\n\nclass PostTemplate extends Component {\n\n  constructor(props){\n    super(props);\n\n    this.state = {\n      \"scrollPercent\": 0,\n      \"totalRead\": this.props.data.wordpressPost.content.split(\" \").length/225,\n      \"remainingRead\": Math.round(this.props.data.wordpressPost.content.split(\" \").length/225 * 2)/2\n    }\n    this.handleScroll = this.handleScroll.bind(this);\n    this.updateWindowDimensions = this.updateWindowDimensions.bind(this);\n    \n    //check if there are images to display\n    this.images = [];\n    let images = this.images;\n\n    let shortHand = this.props.data.wordpressPost.acf;\n\n    let checkForImages = this.checkForImages;\n\n\n    [shortHand.image_one, shortHand.image_two, \n    shortHand.image_three, shortHand.image_four, \n    shortHand.image_five].forEach(function(e){\n      if (e && e[\"source_url\"]){\n        images.push({\"img\": e.source_url});\n      }\n    })\n  }\n\n \n  componentDidMount(){\n    this.updateWindowDimensions();\n    window.addEventListener('resize', this.updateWindowDimensions);\n    window.addEventListener('scroll', this.handleScroll);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.updateWindowDimensions);\n    window.removeEventListener('scroll', this.handleScroll);\n  }\n\n  updateWindowDimensions() {\n    if (this.refs && this.refs.multiColumnWrapper){\n      this.setState({ windowHeight: this.refs.multiColumnWrapper.scrollHeight });\n    }\n  }\n\n  handleScroll(event) {\n    let scrollPercent = (window.scrollY - (window.innerHeight))/(document.documentElement.scrollHeight - window.innerHeight * 2) * 100;\n    if (scrollPercent < 0) {\n      scrollPercent = 0;\n    } else if (scrollPercent > 100){\n      scrollPercent = 100;\n    }\n    let remaining = Math.round(this.state.totalRead * (100 - this.state.scrollPercent)/100 * 2)/2;\n    this.setState({scrollPercent: scrollPercent, remainingRead: remaining});\n    \n  }\n\n\n  render() {\n    const post = this.props.data.wordpressPost\n    return (\n        <div style={{\"width\": \"100%\", \"height\": \"100%\", \"position\": \"relative\"}} ref={\"multiColumnWrapper\"}>\n          <div className={\"storyHeaderHolder\"}>\n            <div className={\"storyLocationImageHolder\"} style={{\"backgroundImage\": \"url(\" + post.acf.location_photo.source_url + \")\"}}/>\n            <div className={\"storyNameHolder\"}>\n              <div className={\"storyMetaText\"}>\n                <h1>{post.title}</h1>\n                <h2>{\"Inspired by \" + post.acf.country_name}</h2>\n                <p>{\"“\" + post.acf.story_excerpt + \"”\"}</p>\n              </div>\n            </div>\n            <div className={\"authorBio\"}>\n              <h1>{post.acf.author_name}</h1>\n              <p>\n                {post.acf.author_bio}\n              </p>\n              <p className = {\"commissionText\"}>\n                {\"This piece was commissioned as part of \"}\n                <Link to={\"/stories\"}>{\"Centropa Stories\"}</Link>\n                {\". We recommend accompanying it with the \"}\n                <Link to={\"/menu#sandwiches\"}>{\"smørbrod we created\"}</Link>\n                {\" inspired by it.\"}\n              </p>\n            </div>\n          </div>\n\n\n          <div className={\"layoutColumns storyHolder\"}>\n            <div className={\"pieHolder\"}>\n              <div style={{\"width\": \"80%\", \"marginLeft\": \"10%\"}}>\n                <VictoryPie animate data={[\n                    { x: \"\", y: this.state.scrollPercent, fill: \"#0d3e32\", opacity: 0 },\n                    { x: \"\", y: 100 - this.state.scrollPercent, fill: \"#0d3e32\" }\n                  ]}\n                  style={{\n                    data: {\n                      fill: (d) => d.fill,\n                      opacity: (d) => d.opacity\n                    }\n                  }}\n                  labels={() => null}/>\n              </div>\n              <p>{this.state.remainingRead + \" mins left to read\"}</p>\n            </div>\n            <div className={\"multiColumnWrapper\"}>\n              <div className={\"contentColumn storyColumn\"} dangerouslySetInnerHTML={{ __html: post.content }}/>\n              <div className={\"mediaColumn\"} style={{\"height\": (this.state.windowHeight - 200) + \"px\", \"marginTop\": \"-100%\"}}>\n                <div className={\"imageCols redSquares\"} style={{\"height\": \"calc(\" + this.state.windowHeight + \" - 100% - 200px)\"}}>\n                  <BgColumn numSquares={Math.floor(this.state.remainingRead) + 10} windowHeight={this.state.windowHeight}/>\n                </div>\n              </div>\n              {this.images.length > 0 &&\n                    <div className={\"storyPhotoColumn\"} style={{\"height\": \"calc(\" + this.state.windowHeight + \" - 100%)\"}}>\n                      <PhotoColumn photos={this.images} \n                                  numSquares={this.images.length} \n                                  windowHeight={this.state.windowHeight}/>\n                    </div>\n                  }\n            </div>\n            <div className={\"clearer\"}/>\n          </div>\n          <div className={\"storyAuthorImageHolder\"} style={{\"backgroundImage\": \"url(\" + post.acf.author_photo.source_url + \")\"}}/>\n          <Header/>\n        </div>\n    )\n  }\n}\n\nPostTemplate.propTypes = {\n  data: PropTypes.object.isRequired,\n  edges: PropTypes.array,\n}\n\nexport default PostTemplate\n\nexport const pageQuery = graphql`\n  query($id: String!) {\n    wordpressPost(id: { eq: $id }) {\n      title\n      content\n      acf {\n        author_name\n        country_name\n        story_excerpt\n        author_bio\n        author_photo {\n          source_url\n        }\n        location_photo {\n          source_url\n        }\n        image_one {\n          source_url\n        }\n        image_two {\n          source_url\n        }\n        image_three {\n          source_url\n        }\n        image_four {\n          source_url\n        }\n        image_five {\n          source_url\n        }\n      }\n    }\n    site {\n      siteMetadata {\n        title\n        subtitle\n      }\n    }\n  }\n`","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n} from \"gatsby-link\"\nimport PageRenderer from \"./public-page-renderer\"\nimport parsePath from \"./parse-path\"\n\nconst StaticQueryContext = React.createContext({})\n\nconst StaticQuery = props => (\n  <StaticQueryContext.Consumer>\n    {staticQueryData => {\n      if (\n        props.data ||\n        (staticQueryData[props.query] && staticQueryData[props.query].data)\n      ) {\n        return (props.render || props.children)(\n          props.data ? props.data.data : staticQueryData[props.query].data\n        )\n      } else {\n        return <div>Loading (StaticQuery)</div>\n      }\n    }}\n  </StaticQueryContext.Consumer>\n)\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away,. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n.` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n}\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","export function capitalizeFirstLetter(string) {\n    return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\n//from https://gomakethings.com/how-to-shuffle-an-array-with-vanilla-js/\nexport function shuffle(array) {\n\n\tvar currentIndex = array.length;\n\tvar temporaryValue, randomIndex;\n\n\t// While there remain elements to shuffle...\n\twhile (0 !== currentIndex) {\n\t\t// Pick a remaining element...\n\t\trandomIndex = Math.floor(Math.random() * currentIndex);\n\t\tcurrentIndex -= 1;\n\n\t\t// And swap it with the current element.\n\t\ttemporaryValue = array[currentIndex];\n\t\tarray[currentIndex] = array[randomIndex];\n\t\tarray[randomIndex] = temporaryValue;\n\t}\n\n\treturn array;\n\n};\n\nexport const sectionDescriptions = {\n\t\"sandwiches\": \"We consider smørbrød one of our signature offerings at Centropa. We’re inspired by the work of Norwegian authors and food culture from around the world as part of the Centropa Stories project. We recommend trying an assortment by ordering our High Tea service.\",\n\t\"snacks\": \"Check out a book a Deichman and grab a coffee alongside one of our delicious café snacks. All pastries are made fresh in-house every morning by our team of dedicated bakers.\",\n\t\"mains\": \"We offer an assortment of European classics as well as a seasonally rotating selection of internationally-inspired plates.\",\n\t\"desserts\": \"Our desserts are inspired by the creative spirit of Centropa, as well as the homey spirit of the Norwegian countryside. Go ahead, indulge!\"\n};\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\nimport loader from \"./loader\"\n\nconst ProdPageRenderer = ({ location }) => {\n  const pageResources = loader.getResourcesForPathnameSync(location.pathname)\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n    ...pageResources.json,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n","import React from 'react'\nimport HeaderLink from \"./HeaderLink\"\nimport \"./../css/Header.css\"\n\n\nclass Header extends React.Component {\n\n\trender(){\n\t\treturn (\n\t\t  <div className={\"underlineLink headerContainer\"}>\n\t\t      <HeaderLink to={\"/\"} pageName={this.props.page} text={\"Home\"}/>\n\t\t      <HeaderLink to={\"/menu\"} pageName={this.props.page} text={\"Menu\"} color={\"#2A8FA3\"}/>\n\t\t      <HeaderLink to={\"/stories\"} pageName={this.props.page} text={\"Centropa Stories\"} color={\"#A4384D\"}/>\n\t\t  </div>\n\t\t)\n\t}\n}\n\nexport default Header\n","import React from 'react'\nimport { Link } from 'gatsby'\nimport '../css/ButtonLink.css'\n\nclass HeaderLink extends React.Component {\n\n  render() {\n  \tlet theStyle = {\"color\": this.props.color};\n  \treturn(\n\t  \t\t<Link to={this.props.to} activeClassName={\"activeUnderlineLink\"} style={theStyle} className={this.props.pageName === this.props.text ? \"activeUnderlineLink\" : \"\"}>\n\t  \t\t\t<span>\n\t\t  \t\t\t{this.props.text}\n\t\t  \t\t</span>\n\t  \t\t</Link>\n  \t)\n  }\n}\n\nexport default HeaderLink","import React from 'react'\nimport {shuffle} from '../utils/helpers.js';\n\n\n\n\nclass BgColumn extends React.Component {\n\n  constructor(props){\n    super(props);\n\n    this.renderBgColumns = this.renderBgColumns.bind(this);\n\n    let numBg = this.props.numSquares;\n    //let's set percentage widths and heights on load so photos don't shift around every time the component is rerendered\n    let tops = Array(numBg).fill().map(function(na, id){ return Math.round((id/numBg) * 100 + Math.random() * 2)/100 });\n    let lefts = Array(numBg).fill().map(() => Math.round(Math.random() * 100)/100);\n    let widths = Array(numBg).fill().map(() => Math.round(Math.random() * 6 + 6));\n\n    let squares = [];\n    for (var sqr = 0; sqr < numBg; sqr ++){\n      let object = new Object();\n      object[\"left\"] = lefts[sqr];\n      object[\"top\"] = tops[sqr];\n      object[\"width\"] = widths[sqr];\n      squares.push(object);\n    }\n\n    this.squares = squares;\n\n  }\n\n  renderBgColumns(){\n    let windowHeight = this.props.windowHeight;\n\n\n    return this.squares.map(function(node, id) {\n\n      return <div key={id + node.left} \n                style={\n                    {\n                      \"right\": (node.left * 55) + \"%\",\n                      \"top\": (node.top * (windowHeight - 200)) + \"px\",\n                      \"width\": (node.width) + \"vw\",\n                      \"height\": (node.width) + \"vw\"\n                    }\n                  }>\n          </div>\n        }\n      )\n\n    \n  }\n\n  render() {\n    // console.log(this.props.photos);\n  \treturn (\n        <div className={\"bgLayers bgSquares\"} style={{\"height\": this.props.windowHeight + \"px\"}}>\n    \t\t\t{this.renderBgColumns()}\n        </div>\n  \t)\n  }\n\n\n}\n\nexport default BgColumn\n","import React from 'react'\nimport {shuffle} from '../utils/helpers.js';\nimport Parallax from 'react-rellax'\n\n\n\n\n\nclass PhotoColumn extends React.Component {\n\n  constructor(props){\n    super(props);\n\n    this.renderPhotoColumns = this.renderPhotoColumns.bind(this);\n\n    let numBg = this.props.numSquares;\n    //let's set percentage widths and heights on load so photos don't shift around every time the component is rerendered\n    let tops = Array(numBg).fill().map(function(na, id){ return Math.round((id/numBg) * 100)/100 });\n    let lefts = Array(numBg).fill().map(() => Math.round(Math.random() * 100)/100);\n    let widths = Array(numBg).fill().map(() => Math.round(Math.random() * 10 + 15));\n    let heights = widths.map((e) => Math.round(e * (Math.random() * 0.5 + 0.75)));\n\n    let squares = [];\n    for (var sqr = 0; sqr < numBg; sqr ++){\n      let object = this.props.photos[sqr];\n      object[\"left\"] = lefts[sqr];\n      object[\"top\"] = tops[sqr];\n      object[\"width\"] = widths[sqr];\n      object[\"height\"] = heights[sqr];\n      squares.push(object);\n    }\n\n    this.squares = squares;\n\n  }\n\n\n\n\n  renderPhotoColumns(){\n    let windowHeight = this.props.windowHeight;\n\n\n    return this.squares.map(function(node, id) {\n      let top = (node.top * (windowHeight - 200) / 1.25);\n\n\n      return <Parallax  key={id + node.left} speed={-2}>\n              <div  \n                  style={\n                      {\n                        \"right\": (node.left * 30) + \"%\",\n                        \"top\": top + \"px\",\n                        \"width\": (node.width) + \"vw\",\n                        \"height\": (node.height) + \"vw\",\n                        \"backgroundImage\": \"url(\" + node.img + \")\"\n                      }\n                    } className={\"rellax\"}>\n                {node.title &&\n                  <div>\n                  <h4>{node.title}</h4>\n                </div>\n                }\n            </div>\n          </Parallax>\n        }\n      )\n\n    \n  }\n\n  render() {\n  \treturn (\n        <div className={\"bgLayers\"} >\n    \t\t\t   {this.renderPhotoColumns()}\n        </div>\n  \t)\n  }\n\n\n}\n\nexport default PhotoColumn\n"],"sourceRoot":""}