function visualize_alt(t){svgHeight=d3.select("svg").node().height.animVal.value,svgWidth=d3.select("svg").node().width.animVal.value;var e=7,r=50,a={left:150,top:50,right:25,bottom:25};d3.select(".theSvg").attr("viewBox",function(){return"0 0 1000 "+(t.length*r+50)});var n=d3.select(".theSvg"),l=n.append("g").attr("transform","translate("+a.left+","+a.top+")"),o=n.append("g").attr("transform","translate("+a.left+","+a.top+")"),s=l.selectAll(".actors").data(t,function(t){return t.key});s.enter().append("g").attr("class","actors").attr("transform",function(t,e){return"translate(0,"+e*r+")"}),s.append("text").text(function(t){return t.key.split("*&*")[0]}).attr("transform","translate(-125,6)"),s.append("line").attr("x1",0).attr("x2",830).attr("y1",e/2).attr("y2",e/2).attr("transform","translate(-30,0)").attr("stroke-width",1).attr("stroke",function(t){return org_colors[t.key.split("*&*")[1]]}).style("stroke-dasharray","5,7");var i=s.selectAll(".times").data(function(t){return t.values});i.enter().append("g").attr("class","times").attr("theI",function(t,e){return e});var c=i.selectAll(".eventsForLinks").data(function(t){return t.values});c.enter().append("g").attr("class",function(t){return"eventsForLinks "+t.web_url.replace(/[|'"\.,-\/#!$%?\^&\*;:{}=\-_`~()? ]/g,"")+" a"+t.actor.split("*&*")[0].replace(/[|'"? \.,-\/#!$%\^&\*;:{}=\-_`~()]/g,"")+" a"+t.other_actors.length}).attr("transform",function(t){return"translate("+time_scale(time_format.parse(t.pub_date))+",0)"});var d=c.filter(function(t){return t.other_actors.length>0}).selectAll("path").data(function(t){return t.other_actors});d.enter().append("path").attr("d",function(t){d3.select(this.parentNode.parentNode).attr("theI");var r,a,n,l,o=d3.select(this.parentNode.parentNode.parentNode).node().transform.animVal[0].matrix.f,s=d3.select(this.parentNode).node().classList[1],i=d3.select("."+s+".a"+t.split("*&*")[0].replace(/[|'" \.,-\/#!$%?\^&\*;:{}=\-_`~()? ]/g,""))[0][0];d3.select(i.parentNode).attr("theI");var c,d=i.parentNode.parentNode.transform.animVal[0].matrix.f;c=d-o+e/2-20,r=e/2-20,d>o?(a="M"+e+" "+r+" L"+(e+7)+" "+r+" Q "+(e+7+5)+" "+r+" "+(e+7+5)+" "+(r+5),n=" L "+(e+7+5)+" "+(c-5)):(a="M"+e+" "+r+" L"+(e+7)+" "+r+" Q "+(e+7+5)+" "+r+" "+(e+7+5)+" "+(r-5),n=" L "+(e+7+5)+" "+(c+5)),l=" Q "+(e+7+5)+" "+c+" "+(e+7)+" "+c+" L"+e+" "+c;var u=a+n+l;return u}).attr("stroke-width",1).attr("fill","none").attr("stroke",function(){return void 0!=type_symbol_dict[d3.select(this.parentNode).data()[0].type_of_material]?type_symbol_dict[d3.select(this.parentNode).data()[0].type_of_material][1]:"#000"}).attr("stroke-dasharray",function(){var t=this.getTotalLength();return t+" "+t}).attr("stroke-dashoffset",function(){return this.getTotalLength()});var u=o.selectAll(".circleactors").data(t,function(t){return t.key});u.enter().append("g").attr("class","circleactors").attr("transform",function(t,e){return"translate(0,"+e*r+")"});var p=u.selectAll(".circletimes").data(function(t){return t.values});p.enter().append("g").attr("theI",function(t,e){return e}).attr("class","circletimes");var f=p.selectAll("eventsForCircles").data(function(t){return t.values});f.enter().append("g").attr("class",function(t){return"eventsForCircles "+t.web_url.replace(/[|'"\.,-\/#!$%\^&\*;:{}=\-_`~()? ]/g,"")+"circ"}).attr("transform",function(t){return"translate("+time_scale(time_format.parse(t.pub_date))+",0)"}).attr("thePrevRad",function(){return e/2+3+Math.random()*e}),f.append("line").attr("x1",e/2).attr("x2",e/2).attr("y1",e/2).attr("y2",e/2).attr("stroke","#000").attr("stroke-width",2),f.append("circle").attr("r",e/2).attr("cx",e/2).attr("cy",e/2).attr("fill","#000"),f.append("circle").attr("class","innerCircle").attr("r",function(){var t=d3.select(this.parentNode).attr("thePrevRad");return t}).attr("cx",e/2).attr("cy",e/2).attr("fill",function(t){return void 0!=type_symbol_dict[t.type_of_material]?type_symbol_dict[t.type_of_material][1]:"#ccc"}).attr("fill-opacity",.8),f.append("rect").attr("x",e/2-10).attr("y",-15).attr("width",20).attr("height",30).attr("opacity",0).attr("cursor","pointer").on("mouseover",function(t){var r=d3.selectAll("."+t.web_url.replace(/[|'"\.,-\/#!$%\^&\*;:{}=\-_`~() ?]/g,"")+"circ"),a=r.select(".innerCircle");a.transition().duration(500).attr("cy",e/2-20);var n=r.selectAll("line");n.transition().duration(500).attr("y2",e/2-20),r.selectAll(".typeIcon").transition().duration(500).attr("dy",e/2+3.5-20),r.selectAll(".linkSym").transition().duration(500).attr("dy",function(){var t=d3.select(this.parentNode).attr("thePrevRad");return-t-20});var l=d3.selectAll(".eventsForLinks."+t.web_url.replace(/[|'"\.,-\/#!$%\^&\*;:{}=\-_`~()? ]/g,"")).select("path");l.transition().duration(1e3).delay(500).ease("linear").attr("stroke-dashoffset",0);var o=this.parentNode.parentNode.parentNode.transform.animVal[0].matrix.f,s=this.parentNode.parentNode.getBBox().x;doPopUp(t,s,o)}).on("mouseout",function(t){var r=d3.selectAll("."+t.web_url.replace(/[|'"\.,-\/#!$%\^&\*;:{}=\-_`~()? ]/g,"")+"circ"),a=r.select(".innerCircle");a.transition().delay(700).duration(500).attr("cy",e/2);var n=r.selectAll("line");n.transition().duration(500).delay(700).attr("y2",e/2),r.selectAll(".typeIcon").transition().delay(700).duration(500).attr("dy",e/2+3.5),r.selectAll(".linkSym").transition().delay(700).duration(500).attr("dy",function(){var t=d3.select(this.parentNode).attr("thePrevRad");return-t});var l=d3.selectAll(".eventsForLinks."+t.web_url.replace(/[|'"\.,-\/#!$%\^&\*;:{}=\-_`~()? ]/g,"")).select("path");l.transition().duration(700).attr("stroke-dashoffset",function(){return this.getTotalLength()}),closePopUp()}),f.append("text").attr("class","typeIcon").attr("font-family","FontAwesome").attr("font-size","0.6em").attr("text-anchor","middle").attr("x",e/2).attr("dy",e/2+3.5).attr("fill-opacity",.8).attr("fill","#fff").text(function(t){return void 0==section_symbol_dict[t.section_name]?"":section_symbol_dict[t.section_name]}).attr("pointer-events","none"),f.filter(function(t){return t.other_actors.length>0}).append("text").attr("font-family","FontAwesome").attr("font-size","0.45em").attr("class","linkSym").attr("dy",function(){var t=d3.select(this.parentNode).attr("thePrevRad");return-t}).attr("fill","#666").text(""),buildTour(t)}